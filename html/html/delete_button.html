{{ define "delete_button" }}
<button>Delete</button>
<script>
    $(document.currentScript).prev("button").on("click", async function () {
        if (confirm("Are you sure you want to delete this?")) {
            const resp = await fetch("{{ . }}", { method: "DELETE" });
            if (!resp.ok) {
                alert("Something went wrong while deleting this");
            } else {
                window.location.reload();
            }
        }
    });
</script>
{{ end }}